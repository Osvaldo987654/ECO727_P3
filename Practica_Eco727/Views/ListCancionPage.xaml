<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Practica_Eco727.Views.ListCancionPage">

    <VerticalStackLayout Padding="10" Spacing="10">

        <!-- TÃ­tulo -->
        <Label Text="ðŸŽµ Lista de Canciones"
               FontSize="26"
               FontAttributes="Bold"
               HorizontalOptions="Center"
               TextColor="{AppThemeBinding Light=#1A73E8, Dark=#79B4FF}" />

        <!-- ðŸ” Campo de bÃºsqueda -->
        <Entry x:Name="SearchEntry"
               Placeholder="Buscar por tÃ­tulo, intÃ©rprete o gÃ©nero..."
               ClearButtonVisibility="WhileEditing"
               TextChanged="OnSearchTextChanged"
               BackgroundColor="{AppThemeBinding Light=White, Dark=#333}"
               Margin="0,10,0,10" />

        <!-- Lista en formato TARJETA -->
        <CollectionView x:Name="CancionesListView"
                        SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate>

                    <!-- Tarjeta -->
                    <Frame Margin="0,0,0,12"
                           Padding="12"
                           CornerRadius="12"
                           BorderColor="#1976D2"
                           BackgroundColor="{AppThemeBinding Light=White, Dark=#2C2C2C}"
                           HasShadow="True">

                        <VerticalStackLayout Spacing="8">

                            <!-- TÃ­tulo de la canciÃ³n -->
                            <Label Text="{Binding Titulo}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{AppThemeBinding Light=#0D47A1, Dark=#90CAF9}" />

                            <!-- InformaciÃ³n secundaria -->
                            <Grid ColumnDefinitions="Auto,*"
                                  RowDefinitions="Auto,Auto,Auto,Auto"
                                  ColumnSpacing="6"
                                  RowSpacing="4">

                                <Label Grid.Row="0" Grid.Column="0" Text="ðŸŽ¤ IntÃ©rprete:" FontAttributes="Bold" />
                                <Label Grid.Row="0" Grid.Column="1" Text="{Binding Interprete}" />

                                <Label Grid.Row="1" Grid.Column="0" Text="ðŸŽ¶ GÃ©nero:" FontAttributes="Bold" />
                                <Label Grid.Row="1" Grid.Column="1" Text="{Binding Genero}" />

                                <Label Grid.Row="2" Grid.Column="0" Text="ðŸŒŽ Nacionalidad:" FontAttributes="Bold" />
                                <Label Grid.Row="2" Grid.Column="1" Text="{Binding Nacionalidad}" />

                                <Label Grid.Row="3" Grid.Column="0" Text="ðŸ“… AÃ±o:" FontAttributes="Bold" />
                                <Label Grid.Row="3" Grid.Column="1" Text="{Binding AnioLanzamiento}" />

                            </Grid>

                            <!-- Acciones -->
                            <HorizontalStackLayout Spacing="10"
                                                   Margin="0,8,0,0"
                                                   HorizontalOptions="End">

                                <Button Text="âœï¸ Editar"
                                        BackgroundColor="#0288D1"
                                        TextColor="White"
                                        CornerRadius="8"
                                        WidthRequest="90"
                                        Clicked="OnEditCancionClicked" />

                                <Button Text="ðŸ—‘ï¸ Borrar"
                                        BackgroundColor="#D32F2F"
                                        TextColor="White"
                                        CornerRadius="8"
                                        WidthRequest="90"
                                        Clicked="OnDeleteCancionClicked" />

                            </HorizontalStackLayout>

                        </VerticalStackLayout>

                    </Frame>

                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

        <!-- BOTÃ“N DE VOLVER / SALIR -->
        <Button
            Text="â¬…ï¸ Volver"
            BackgroundColor="#1565C0"
            TextColor="White"
            CornerRadius="12"
            HeightRequest="50"
            Margin="0,10,0,0"
            Clicked="OnBackClicked" />

    </VerticalStackLayout>
</ContentPage>
