<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Practica_Eco727.Views.SearchCancionPage"
             Title="Buscar CanciÃ³n">

    <ContentPage.Resources>

        <!-- Estilo general de etiquetas -->
        <Style x:Key="LabelStyle" TargetType="Label">
            <Setter Property="VerticalOptions" Value="Center" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="TextColor" Value="{AppThemeBinding Light=#333, Dark=White}" />
        </Style>

        <!-- Estilo para tÃ­tulos dentro de tarjetas -->
        <Style x:Key="TitleLabelStyle" TargetType="Label">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontAttributes" Value="Bold" />
            <Setter Property="TextColor" Value="{AppThemeBinding Light=#0D47A1, Dark=#90CAF9}" />
        </Style>

    </ContentPage.Resources>

    <VerticalStackLayout Padding="20" Spacing="15">

        <!-- TÃ­tulo -->
        <Label
            FontAttributes="Bold"
            FontSize="26"
            HorizontalOptions="Center"
            Text="ðŸ” Buscar CanciÃ³n"
            TextColor="{AppThemeBinding Light=#1A73E8, Dark=#79B4FF}" />

        <!-- Campo de bÃºsqueda -->
        <Entry
            x:Name="SearchEntry"
            BackgroundColor="{AppThemeBinding Light=White, Dark=#333}"
            ClearButtonVisibility="WhileEditing"
            Placeholder="Escribe el tÃ­tulo o intÃ©rprete..."
            TextChanged="OnSearchTextChanged" />

        <!-- Resultados como TARJETAS -->
        <CollectionView
            x:Name="ResultsListView"
            SelectionMode="None">

            <CollectionView.ItemTemplate>
                <DataTemplate>

                    <!-- TARJETA -->
                    <Frame Margin="0,0,0,12"
                           Padding="12"
                           CornerRadius="12"
                           BorderColor="#1976D2"
                           BackgroundColor="{AppThemeBinding Light=White, Dark=#2C2C2C}"
                           HasShadow="True">

                        <VerticalStackLayout Spacing="8">

                            <!-- TÃTULO de la canciÃ³n -->
                            <Label Text="{Binding Titulo}"
                                   Style="{StaticResource TitleLabelStyle}" />

                            <!-- InformaciÃ³n -->
                            <Grid ColumnDefinitions="Auto,*"
                                  RowDefinitions="Auto,Auto,Auto,Auto"
                                  ColumnSpacing="6"
                                  RowSpacing="4">

                                <Label Grid.Row="0" Grid.Column="0" Text="ðŸŽ¤ IntÃ©rprete:" FontAttributes="Bold" />
                                <Label Grid.Row="0" Grid.Column="1" Text="{Binding Interprete}" />

                                <Label Grid.Row="1" Grid.Column="0" Text="ðŸŽ¶ GÃ©nero:" FontAttributes="Bold" />
                                <Label Grid.Row="1" Grid.Column="1" Text="{Binding Genero}" />

                                <Label Grid.Row="2" Grid.Column="0" Text="ðŸŒŽ Nacionalidad:" FontAttributes="Bold" />
                                <Label Grid.Row="2" Grid.Column="1" Text="{Binding Nacionalidad}" />

                                <Label Grid.Row="3" Grid.Column="0" Text="ðŸ“… AÃ±o:" FontAttributes="Bold" />
                                <Label Grid.Row="3" Grid.Column="1" Text="{Binding AnioLanzamiento}" />

                            </Grid>

                        </VerticalStackLayout>

                    </Frame>

                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

        <!-- BOTÃ“N DE VOLVER / SALIR -->
        <Button
            Text="â¬…ï¸ Volver"
            BackgroundColor="#1565C0"
            TextColor="White"
            CornerRadius="12"
            HeightRequest="50"
            Margin="0,10,0,0"
            Clicked="OnBackClicked" />

    </VerticalStackLayout>

</ContentPage>
